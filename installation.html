

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; slsDetectorPackage  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/extra.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Dependencies" href="dependencies.html" />
    <link rel="prev" title="Welcome to slsDetectorPackage’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> slsDetectorPackage
          

          
          </a>

          
            
            
              <div class="version">
                5.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#build-from-source-using-cmake">Build from source using CMake</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-using-cmk-sh-script">Build using cmk.sh script</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-binaries-using-conda">Install binaries using conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-from-source-on-old-distributions">Build from source on old distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-this-documentation">Build this documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="consuming.html">Consuming slsDetectorPackage</a></li>
</ul>
<p class="caption"><span class="caption-text">C++ API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="detector.html">Detector</a></li>
<li class="toctree-l1"><a class="reference internal" href="result.html">Result</a></li>
<li class="toctree-l1"><a class="reference internal" href="receiver.html">Receiver</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pygettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="pydetector.html">Detector</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyenums.html">Enums</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyexamples.html">Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Command line</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="commandline.html">Command line interface</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="container_utils.html">ContainerUtils</a></li>
<li class="toctree-l1"><a class="reference internal" href="type_traits.html">TypeTraits</a></li>
<li class="toctree-l1"><a class="reference internal" href="ToString.html">ToString</a></li>
</ul>
<p class="caption"><span class="caption-text">Firmware</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="firmware.html">Firmware Upgrade</a></li>
</ul>
<p class="caption"><span class="caption-text">Detector Server</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="servers.html">Detector Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="serverupgrade.html">Detector Server Upgrade</a></li>
<li class="toctree-l1"><a class="reference internal" href="virtualserver.html">Detector Simulators</a></li>
<li class="toctree-l1"><a class="reference internal" href="serverdefaults.html">Default Values</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">slsDetectorPackage</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default branch of our git repository is developer. It contains the
latest development version. It is expected to compile and work but
features might be added or tweaked. In some cases the API might also change
without being communicated. If absolute stability of the API is needed please
use one of the release versions.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Before building from source make sure that you have the
<a class="reference internal" href="dependencies.html"><span class="doc">dependencies</span></a> installed. If installing using conda, conda will
manage the dependencies.</p>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="build-from-source-using-cmake">
<h2>Build from source using CMake<a class="headerlink" href="#build-from-source-using-cmake" title="Permalink to this headline">¶</a></h2>
<p>Note that on some systems, for example RH7,  cmake v3+ is available under the cmake3 alias.
It is also required to clone with the option –recursive to get the git submodules used
in the package.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone --recursive https://github.com/slsdetectorgroup/slsDetectorPackage.git
mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
cmake ../slsDetectorPackage -DCMAKE_INSTALL_PREFIX<span class="o">=</span>/your/install/path
make -j12 <span class="c1">#or whatever number of cores you are using to build</span>
make install
</pre></div>
</div>
<p>The easiest way to configure options is to use the ccmake utility.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#from the build directory</span>
ccmake .
</pre></div>
</div>
</div>
<div class="section" id="build-using-cmk-sh-script">
<h2>Build using cmk.sh script<a class="headerlink" href="#build-using-cmk-sh-script" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>The binaries are generated in slsDetectorPackage/build/bin directory.

<span class="c1"># new build and make with 9 parallel threads</span>
./cmk.sh -cbj9

<span class="c1"># build with python</span>
./cmk.sh -bpj9

<span class="c1"># build with GUI</span>
./cmk.sh -bgj9

<span class="c1"># build with hdf5</span>
./cmk.sh -hj9 -d <span class="o">[</span>path of hdf5 dir<span class="o">]</span>

<span class="c1"># get all options</span>
./cmk.sh -?
</pre></div>
</div>
</div>
<div class="section" id="install-binaries-using-conda">
<h2>Install binaries using conda<a class="headerlink" href="#install-binaries-using-conda" title="Permalink to this headline">¶</a></h2>
<p>Conda is not only useful to manage python environments but can also
be used as a user space package manager.</p>
<p>We have three different packages available:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>slsdetlib</strong>, shared libraries and command line utilities</p></li>
<li><p><strong>slsdetgui</strong>, GUI</p></li>
<li><p><strong>slsdet</strong>, Python bindings</p></li>
</ul>
</div></blockquote>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#Add channels for dependencies and our library</span>
conda config --add channels conda-forge
conda config --add channels slsdetectorgroup
conda config --set channel_priority strict

<span class="c1">#cerate an environment with our library, then activate</span>
<span class="c1">#replace 2020.07.20.dev0 with the required tag</span>
conda create -n myenv <span class="nv">slsdetlib</span><span class="o">=</span><span class="m">2020</span>.07.23.dev0
conda activate myenv

<span class="c1">#ready to use</span>
sls_detector_get exptime
etc ...
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#List available versions</span>
conda search slsdet
</pre></div>
</div>
</div>
<div class="section" id="build-from-source-on-old-distributions">
<h2>Build from source on old distributions<a class="headerlink" href="#build-from-source-on-old-distributions" title="Permalink to this headline">¶</a></h2>
<p>If your linux distribution doesn’t come with a C++11 compiler (gcc&gt;4.8) then
it’s possible to install a newer gcc using conda and build the slsDetectorPackage
using this compiler</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1">#Create an environment with the dependencies</span>
conda create -n myenv gxx_linux-64 cmake zmq
conda activate myenv
cmake ../slsDetectorPackage -DCMAKE_PREFIX_PATH<span class="o">=</span><span class="nv">$CONDA_PREFIX</span>
make -j12
</pre></div>
</div>
</div>
<div class="section" id="build-this-documentation">
<h2>Build this documentation<a class="headerlink" href="#build-this-documentation" title="Permalink to this headline">¶</a></h2>
<p>The documentation for the slsDetectorPackage is build using a combination
of Doxygen, Sphinx and Breathe. The easiest way to install the dependencies
is to use conda</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda create -n myenv python sphinx sphinx_rtd_theme
</pre></div>
</div>
<p>Then enable the option SLS_BUILD_DOCS to create the targets</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make docs <span class="c1"># generate API docs and build Sphinx RST</span>
make rst <span class="c1"># rst only, saves time in case the API did not change</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dependencies.html" class="btn btn-neutral float-right" title="Dependencies" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to slsDetectorPackage’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, PSD Detector Group

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>